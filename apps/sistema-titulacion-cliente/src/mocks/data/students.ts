import { type Student, Sex, StudentStatus } from '@entities/student';

/**
 * Datos mock de estudiantes para testing
 */
export const mockStudents: Student[] = [
  {
    id: '1',
    careerId: '1',
    generationId: '1',
    controlNumber: '20200001',
    firstName: 'Juan',
    paternalLastName: 'Pérez',
    maternalLastName: 'García',
    phoneNumber: '+52 1234567890',
    email: 'juan.perez@example.com',
    birthDate: new Date('2000-05-15'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-15T10:00:00Z'),
    updatedAt: new Date('2024-01-15T10:00:00Z'),
  },
  {
    id: '2',
    careerId: '1',
    generationId: '2',
    controlNumber: '20210002',
    firstName: 'María',
    paternalLastName: 'López',
    maternalLastName: 'Rodríguez',
    phoneNumber: '+52 0987654321',
    email: 'maria.lopez@example.com',
    birthDate: new Date('2001-08-20'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-16T10:00:00Z'),
    updatedAt: new Date('2024-01-16T10:00:00Z'),
  },
  {
    id: '3',
    careerId: '2',
    generationId: '1',
    controlNumber: '20200003',
    firstName: 'Carlos',
    paternalLastName: 'Martínez',
    maternalLastName: 'Sánchez',
    phoneNumber: '+52 5555555555',
    email: 'carlos.martinez@example.com',
    birthDate: new Date('2000-11-10'),
    sex: Sex.MASCULINO,
    isEgressed: false,
    status: StudentStatus.PAUSADO,
    createdAt: new Date('2024-01-17T10:00:00Z'),
    updatedAt: new Date('2024-01-17T10:00:00Z'),
  },
  {
    id: '4',
    careerId: '3',
    generationId: '2',
    controlNumber: '20210004',
    firstName: 'Ana',
    paternalLastName: 'González',
    maternalLastName: 'Hernández',
    phoneNumber: '+52 4444444444',
    email: 'ana.gonzalez@example.com',
    birthDate: new Date('2001-03-25'),
    sex: Sex.FEMENINO,
    isEgressed: false,
    status: StudentStatus.CANCELADO,
    createdAt: new Date('2024-01-18T10:00:00Z'),
    updatedAt: new Date('2024-01-20T10:00:00Z'),
  },
  // Estudiantes en proceso - tienen CapturedFields pero NO Graduation
  {
    id: '5',
    careerId: '1',
    generationId: '1',
    controlNumber: '20200005',
    firstName: 'Roberto',
    paternalLastName: 'Torres',
    maternalLastName: 'Mendoza',
    phoneNumber: '+52 3333333333',
    email: 'roberto.torres@example.com',
    birthDate: new Date('2000-07-12'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-01T10:00:00Z'),
    updatedAt: new Date('2024-02-01T10:00:00Z'),
  },
  {
    id: '6',
    careerId: '2',
    generationId: '2',
    controlNumber: '20210006',
    firstName: 'Laura',
    paternalLastName: 'Fernández',
    maternalLastName: 'Vega',
    phoneNumber: '+52 2222222222',
    email: 'laura.fernandez@example.com',
    birthDate: new Date('2001-09-18'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-05T10:00:00Z'),
    updatedAt: new Date('2024-02-05T10:00:00Z'),
  },
  {
    id: '7',
    careerId: '1',
    generationId: '2',
    controlNumber: '20210007',
    firstName: 'Diego',
    paternalLastName: 'Ramírez',
    maternalLastName: 'Castro',
    phoneNumber: '+52 1111111111',
    email: 'diego.ramirez@example.com',
    birthDate: new Date('2001-12-05'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-10T10:00:00Z'),
    updatedAt: new Date('2024-02-10T10:00:00Z'),
  },
  // Estudiantes en proceso - tienen Graduation (isGraduated=false) pero NO CapturedFields
  {
    id: '8',
    careerId: '3',
    generationId: '1',
    controlNumber: '20200008',
    firstName: 'Patricia',
    paternalLastName: 'Morales',
    maternalLastName: 'Soto',
    phoneNumber: '+52 6666666666',
    email: 'patricia.morales@example.com',
    birthDate: new Date('2000-04-22'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-15T10:00:00Z'),
    updatedAt: new Date('2024-02-15T10:00:00Z'),
  },
  {
    id: '9',
    careerId: '2',
    generationId: '1',
    controlNumber: '20200009',
    firstName: 'Fernando',
    paternalLastName: 'Jiménez',
    maternalLastName: 'Ruiz',
    phoneNumber: '+52 7777777777',
    email: 'fernando.jimenez@example.com',
    birthDate: new Date('2000-10-30'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-20T10:00:00Z'),
    updatedAt: new Date('2024-02-20T10:00:00Z'),
  },
  // Estudiantes en proceso - NO tienen CapturedFields NI Graduation
  {
    id: '10',
    careerId: '1',
    generationId: '2',
    controlNumber: '20210010',
    firstName: 'Gabriela',
    paternalLastName: 'Soto',
    maternalLastName: 'Vázquez',
    phoneNumber: '+52 8888888888',
    email: 'gabriela.soto@example.com',
    birthDate: new Date('2001-06-14'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-25T10:00:00Z'),
    updatedAt: new Date('2024-02-25T10:00:00Z'),
  },
  {
    id: '11',
    careerId: '2',
    generationId: '2',
    controlNumber: '20210011',
    firstName: 'Jorge',
    paternalLastName: 'Campos',
    maternalLastName: 'Mendoza',
    phoneNumber: '+52 9999999999',
    email: 'jorge.campos@example.com',
    birthDate: new Date('2001-11-08'),
    sex: Sex.MASCULINO,
    isEgressed: false,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-03-01T10:00:00Z'),
    updatedAt: new Date('2024-03-01T10:00:00Z'),
  },
  // Estudiantes titulados - tienen Graduation con isGraduated=true
  {
    id: '12',
    careerId: '1',
    generationId: '1',
    controlNumber: '20200012',
    firstName: 'Luis',
    paternalLastName: 'Sánchez',
    maternalLastName: 'Pérez',
    phoneNumber: '+52 1010101010',
    email: 'luis.sanchez@example.com',
    birthDate: new Date('2000-02-14'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-20T10:00:00Z'),
    updatedAt: new Date('2024-01-20T10:00:00Z'),
  },
  {
    id: '13',
    careerId: '2',
    generationId: '2',
    controlNumber: '20210013',
    firstName: 'Claudia',
    paternalLastName: 'Rojas',
    maternalLastName: 'Martínez',
    phoneNumber: '+52 2020202020',
    email: 'claudia.rojas@example.com',
    birthDate: new Date('2001-01-30'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-22T10:00:00Z'),
    updatedAt: new Date('2024-01-22T10:00:00Z'),
  },
  {
    id: '14',
    careerId: '3',
    generationId: '1',
    controlNumber: '20200014',
    firstName: 'Miguel',
    paternalLastName: 'Ángel',
    maternalLastName: 'López',
    phoneNumber: '+52 3030303030',
    email: 'miguel.lopez@example.com',
    birthDate: new Date('2000-06-08'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-25T10:00:00Z'),
    updatedAt: new Date('2024-01-25T10:00:00Z'),
  },
  {
    id: '15',
    careerId: '1',
    generationId: '2',
    controlNumber: '20210015',
    firstName: 'Carmen',
    paternalLastName: 'Silva',
    maternalLastName: 'García',
    phoneNumber: '+52 4040404040',
    email: 'carmen.silva@example.com',
    birthDate: new Date('2001-04-17'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-01-28T10:00:00Z'),
    updatedAt: new Date('2024-01-28T10:00:00Z'),
  },
  {
    id: '16',
    careerId: '2',
    generationId: '1',
    controlNumber: '20200016',
    firstName: 'Ricardo',
    paternalLastName: 'Martínez',
    maternalLastName: 'Torres',
    phoneNumber: '+52 5050505050',
    email: 'ricardo.martinez@example.com',
    birthDate: new Date('2000-09-25'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-01T10:00:00Z'),
    updatedAt: new Date('2024-02-01T10:00:00Z'),
  },
  {
    id: '17',
    careerId: '3',
    generationId: '2',
    controlNumber: '20210017',
    firstName: 'Sofía',
    paternalLastName: 'Hernández',
    maternalLastName: 'Ramírez',
    phoneNumber: '+52 6060606060',
    email: 'sofia.hernandez@example.com',
    birthDate: new Date('2001-07-12'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-05T10:00:00Z'),
    updatedAt: new Date('2024-02-05T10:00:00Z'),
  },
  {
    id: '18',
    careerId: '1',
    generationId: '1',
    controlNumber: '20200018',
    firstName: 'Alejandro',
    paternalLastName: 'Torres',
    maternalLastName: 'Díaz',
    phoneNumber: '+52 7070707070',
    email: 'alejandro.torres@example.com',
    birthDate: new Date('2000-12-03'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-02-10T10:00:00Z'),
    updatedAt: new Date('2024-02-10T10:00:00Z'),
  },
  // Estudiantes programados - tienen CapturedFields Y Graduation (isGraduated=false), status ACTIVO
  {
    id: '19',
    careerId: '1',
    generationId: '1',
    controlNumber: '20200019',
    firstName: 'Fernando',
    paternalLastName: 'Vargas',
    maternalLastName: 'Ortega',
    phoneNumber: '+52 8080808080',
    email: 'fernando.vargas@example.com',
    birthDate: new Date('2000-01-15'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-03-01T10:00:00Z'),
    updatedAt: new Date('2024-03-01T10:00:00Z'),
  },
  {
    id: '20',
    careerId: '2',
    generationId: '2',
    controlNumber: '20210020',
    firstName: 'Sofía',
    paternalLastName: 'Jiménez',
    maternalLastName: 'Ruiz',
    phoneNumber: '+52 9090909090',
    email: 'sofia.jimenez@example.com',
    birthDate: new Date('2001-06-20'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-03-05T10:00:00Z'),
    updatedAt: new Date('2024-03-05T10:00:00Z'),
  },
  {
    id: '21',
    careerId: '3',
    generationId: '1',
    controlNumber: '20200021',
    firstName: 'Ricardo',
    paternalLastName: 'Castro',
    maternalLastName: 'Mendoza',
    phoneNumber: '+52 1010101010',
    email: 'ricardo.castro@example.com',
    birthDate: new Date('2000-09-10'),
    sex: Sex.MASCULINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-03-10T10:00:00Z'),
    updatedAt: new Date('2024-03-10T10:00:00Z'),
  },
  {
    id: '22',
    careerId: '1',
    generationId: '2',
    controlNumber: '20210022',
    firstName: 'Valentina',
    paternalLastName: 'Rojas',
    maternalLastName: 'Campos',
    phoneNumber: '+52 2020202020',
    email: 'valentina.rojas@example.com',
    birthDate: new Date('2001-11-25'),
    sex: Sex.FEMENINO,
    isEgressed: true,
    status: StudentStatus.ACTIVO,
    createdAt: new Date('2024-03-15T10:00:00Z'),
    updatedAt: new Date('2024-03-15T10:00:00Z'),
  },
];

/**
 * Busca un estudiante por ID
 */
export function findStudentById(id: string): Student | undefined {
  return mockStudents.find((student) => student.id === id);
}

/**
 * Busca un estudiante por número de control
 */
export function findStudentByControlNumber(
  controlNumber: string
): Student | undefined {
  return mockStudents.find(
    (student) => student.controlNumber === controlNumber
  );
}

/**
 * Genera un nuevo ID para un estudiante
 */
export function generateStudentId(): string {
  const maxId = Math.max(
    ...mockStudents.map((student) => parseInt(student.id, 10)),
    0
  );
  return String(maxId + 1);
}

/**
 * Genera un nuevo número de control
 */
export function generateControlNumber(_generationId: string): string {
  // Extraer año de la generación (asumiendo formato YYYY en el ID o usando fecha)
  // Por simplicidad, usar año actual
  const year = new Date().getFullYear().toString().slice(2);
  const existingForYear = mockStudents.filter((s) =>
    s.controlNumber.startsWith(year)
  );
  const nextNumber = String(
    (existingForYear.length + 1).toString().padStart(4, '0')
  );
  return `${year}${nextNumber}`;
}
